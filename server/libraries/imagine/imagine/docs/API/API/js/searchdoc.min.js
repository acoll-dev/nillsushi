function scrollIntoView(t,e){var i,n,s,r;i=t.offsetTop,r=t.offsetHeight,n=e.offsetHeight,s=e.scrollTop,i-s+r>n&&(e.scrollTop=i-n+r),s>i&&(e.scrollTop=i)}Searchdoc={},Searchdoc.Navigation=new function(){this.initNavigation=function(){var t=this;$(document).keydown(function(e){t.onkeydown(e)}).keyup(function(e){t.onkeyup(e)}),this.navigationActive=!0},this.setNavigationActive=function(t){this.navigationActive=t,this.clearMoveTimeout()},this.onkeyup=function(t){if(this.navigationActive)switch(t.keyCode){case 37:case 38:case 39:case 40:case 73:case 74:case 75:case 76:case 67:case 72:case 84:case 78:this.clearMoveTimeout()}},this.onkeydown=function(t){if(this.navigationActive){switch(t.keyCode){case 37:case 74:case 72:this.moveLeft()&&t.preventDefault();break;case 38:case 73:case 67:(38==t.keyCode||t.ctrlKey)&&(this.moveUp()&&t.preventDefault(),this.startMoveTimeout(!1));break;case 39:case 76:case 78:this.moveRight()&&t.preventDefault();break;case 40:case 75:case 84:(40==t.keyCode||t.ctrlKey)&&(this.moveDown()&&t.preventDefault(),this.startMoveTimeout(!0));break;case 9:case 13:this.$current&&this.select(this.$current)}t.ctrlKey&&t.shiftKey&&this.select(this.$current)}},this.clearMoveTimeout=function(){clearTimeout(this.moveTimeout),this.moveTimeout=null},this.startMoveTimeout=function(t){if($.browser.mozilla||$.browser.opera){this.moveTimeout&&this.clearMoveTimeout();var e=this,i=function(){e.moveTimeout&&(e[t?"moveDown":"moveUp"](),e.moveTimout=setTimeout(i,100))};this.moveTimeout=setTimeout(i,200)}},this.moveRight=function(){},this.moveLeft=function(){},this.move=function(){},this.moveUp=function(){return this.move(!1)},this.moveDown=function(){return this.move(!0)}},Searchdoc.Searcher=function(t){this.data=t,this.handlers=[]},Searchdoc.Searcher.prototype=new function(){function t(t){return jQuery.grep(t.split(/(\s+|\(\)?)/),function(t){return t.match(/\S/)})}function e(t){return jQuery.map(t,function(t){return new RegExp(t.replace(/(.)/g,"([$1])([^$1]*?)"),"i")})}function i(t){return jQuery.map(t,function(t){return jQuery.map(t.split(""),function(t,e){return"$"+(2*e+1)+"$"+(2*e+2)}).join("")})}function n(t,e,i,n){if(0!=t.indexOf(i[0]))return!1;for(var s=1,r=n.length;r>s;s++)if(!t.match(n[s])&&!e.match(n[s]))return!1;return!0}function s(t,e,i,n){if(-1==t.indexOf(i[0]))return!1;for(var s=1,r=n.length;r>s;s++)if(!t.match(n[s])&&!e.match(n[s]))return!1;return!0}function r(t,e,i,n){if(!t.match(n[0]))return!1;for(var s=1,r=n.length;r>s;s++)if(!t.match(n[s])&&!e.match(n[s]))return!1;return!0}function a(t,e,i,n){for(var s=o(t),r=0,a=i.length;a>r;r++)s.title=s.title.replace(i[r],n[r]),r>0&&(s.namespace=s.namespace.replace(i[r],n[r]));return s}function c(t,e,i){return t.substring(0,e)+""+t.substring(e,e+i)+""+t.substring(e+i)}function h(t,e,i,n){var s=o(t),r=0,a=s.title.toLowerCase();r=a.indexOf(e[0]),-1!=r&&(s.title=c(s.title,r,e[0].length));for(var h=1,l=i.length;l>h;h++)s.title=s.title.replace(i[h],n[h]),s.namespace=s.namespace.replace(i[h],n[h]);return s}function o(t){var e={};return e.title=t[0],e.namespace=t[1],e.path=t[2],e.params=t[3],e.snippet=t[4],e.badge=t[6],e}function l(t,e,i,c,o){for(var l,u,d=t.searchIndex,p=t.longSearchIndex,m=t.info,v=[],$=o.from,g=d.length,y=f;o.pass<3&&o.limit>0&&y>0;){for(0==o.pass?(l=n,u=h):1==o.pass?(l=s,u=h):2==o.pass&&(l=r,u=a);y>0&&g>$&&o.limit>0;$++,y--)m[$].n!=o.n&&l(d[$],p[$],i,e)&&(m[$].n=o.n,v.push(u(m[$],i,e,c)),o.limit--);d.length<=$?(o.pass++,$=o.from=0):o.from=$}return v}function u(t,e){jQuery.each(this.handlers,function(i,n){n.call(this,t,e)})}var f=1e3,d=100,p=1,m=1,v=0;this.find=function(n){var s=t(n),r=e(s),a=i(s),c={from:0,pass:0,limit:d,n:m++},h=this;if(this.currentSuid=c.n,n){var o=function(){if(c.n==h.currentSuid){var t=l(h.data,r,s,a,c),e=c.limit>0&&c.pass<3;u.call(h,t,!e),e&&setTimeout(o,2),v++}};v=0,o()}},this.ready=function(t){t.huid=p,this.handlers.push(t)}},Searchdoc.Panel=function(t,e,i,n){this.$element=$(t),this.$input=$("input",t).eq(0),this.$result=$(".result ul",t).eq(0),this.frame=n,this.$current=null,this.$view=this.$result.parent(),this.data=e,this.searcher=new Searchdoc.Searcher(e.index),this.tree=new Searchdoc.Tree($(".tree",t),i,this),this.init()},Searchdoc.Panel.prototype=$.extend({},Searchdoc.Navigation,new function(){function t(t){var n=document.createElement("li"),s="",r=t.badge;return s+="<h1>"+e(t.title),t.params&&(s+="<i>"+t.params+"</i>"),s+="</h1>",s+="<p>","undefined"!=typeof r&&(s+='<span class="badge badge_'+(r%6+1)+'">'+i(this.data.badges[r]||"unknown")+"</span>"),s+=e(t.namespace)+"</p>",t.snippet&&(s+='<p class="snippet">'+i(t.snippet)+"</p>"),n.innerHTML=s,jQuery.data(n,"path",t.path),n}function e(t){return i(t).replace(/\u0001/g,"<b>").replace(/\u0002/g,"</b>")}function i(t){return t.replace(/[&<>]/g,function(t){return"&#"+t.charCodeAt(0)+";"})}this.init=function(){var t=this,e=function(){t.search(t.$input[0].value)};this.$input.keyup(e),this.$input.click(e),this.searcher.ready(function(e,i){t.addResults(e,i)}),this.$result.click(function(e){t.$current.removeClass("current"),t.$current=$(e.target).closest("li").addClass("current"),t.select(),t.$input.focus()}),this.initNavigation(),this.setNavigationActive(!1)},this.search=function(t,e){t=jQuery.trim(t).toLowerCase(),this.selectFirstMatch=e,t?(this.$element.removeClass("panel_tree").addClass("panel_results"),this.tree.setNavigationActive(!1),this.setNavigationActive(!0)):(this.$element.addClass("panel_tree").removeClass("panel_results"),this.tree.setNavigationActive(!0),this.setNavigationActive(!1)),t!=this.lastQuery&&(this.lastQuery=t,this.firstRun=!0,this.searcher.find(t))},this.addResults=function(e,i){var n=this.$result.get(0);this.firstRun&&(e.length>0||i)&&(this.$current=null,this.$result.empty());for(var s=0,r=e.length;r>s;s++)n.appendChild(t.call(this,e[s]));this.firstRun&&e.length>0&&(this.firstRun=!1,this.$current=$(n.firstChild),this.$current.addClass("current"),this.selectFirstMatch&&this.select(),scrollIntoView(this.$current[0],this.$view[0])),jQuery.browser.msie&&(this.$element[0].className+="")},this.open=function(t){this.frame.location.href=t,this.frame.highlight&&this.frame.highlight(t)},this.select=function(){this.open(this.$current.data("path"))},this.move=function(t){if(this.$current){var e=this.$current[t?"next":"prev"]();return e.length&&(this.$current.removeClass("current"),e.addClass("current"),scrollIntoView(e[0],this.$view[0]),this.$current=e),!0}}}),Searchdoc.Tree=function(t,e,i){this.$element=$(t),this.$list=$("ul",t),this.tree=e,this.panel=i,this.init()},Searchdoc.Tree.prototype=$.extend({},Searchdoc.Navigation,new function(){function t(e,i){var n=e.hasClass("closed"),s=e[0].searchdoc_tree_data.children;e.css("display",i?"":"none"),!i&&this.$current&&e[0]==this.$current[0]&&(this.$current.removeClass("current"),this.$current=null);for(var r=0,a=s.length;a>r;r++)t.call(this,$(s[r].li),i&&!n)}function e(t,n,s){var r=i(t,n),a=this.$list[0];t.li=r,a.insertBefore(r,s);for(var c=0,h=t[3].length;h>c;c++)e.call(this,t[3][c],n+1,s);return r}function i(t,e){{var i,s,r=document.createElement("li"),a=document.createElement("div"),c=document.createElement("h1");document.createElement("p")}return r.appendChild(a),r.style.paddingLeft=n(e),a.className="content",t[1]||(r.className="empty "),a.appendChild(c),c.appendChild(document.createTextNode(t[0])),t[2]&&(s=document.createElement("i"),s.appendChild(document.createTextNode(t[2])),c.appendChild(s)),t[3].length>0&&(i=document.createElement("div"),i.className="icon",a.appendChild(i)),r.searchdoc_tree_data={path:t[1],children:t[3],level:e},r.style.display=0==e?"":"none",r.className+="level_"+e+" closed",r}function n(t){return 5+18*t+"px"}this.init=function(){var t=document.createElement("li");t.className="stopper",this.$list[0].appendChild(t);for(var i=0,n=this.tree.length;n>i;i++)e.call(this,this.tree[i],0,t);var s=this;this.$list.click(function(t){var e=$(t.target),i=e.closest("li");e.hasClass("icon")?s.toggle(i):s.select(i)}),this.initNavigation(),jQuery.browser.msie&&(document.body.className+="")},this.select=function(t){this.highlight(t);var e=t[0].searchdoc_tree_data.path;e&&this.panel.open(e)},this.highlight=function(t){this.$current&&this.$current.removeClass("current"),this.$current=t.addClass("current")},this.toggle=function(e){var i=!e.hasClass("closed"),n=e[0].searchdoc_tree_data.children;e.toggleClass("closed");for(var s=0,r=n.length;r>s;s++)t.call(this,$(n[s].li),!i)},this.moveRight=function(){return this.$current?void(this.$current.hasClass("closed")&&this.toggle(this.$current)):void this.highlight(this.$list.find("li:first"))},this.moveLeft=function(){if(!this.$current)return void this.highlight(this.$list.find("li:first"));if(this.$current.hasClass("closed")){var t=this.$current[0].searchdoc_tree_data.level;if(0==t)return;var e=this.$current.prevAll("li.level_"+(t-1)+":visible:first");this.$current.removeClass("current"),e.addClass("current"),scrollIntoView(e[0],this.$element[0]),this.$current=e}else this.toggle(this.$current)},this.move=function(t){if(!this.$current)return this.highlight(this.$list.find("li:first")),!0;var e=this.$current[0];if(t){do if(e=e.nextSibling,e&&e.style&&"none"!=e.style.display)break;while(e)}else do if(e=e.previousSibling,e&&e.style&&"none"!=e.style.display)break;while(e);return e&&-1==e.className.indexOf("stopper")&&(this.$current.removeClass("current"),$(e).addClass("current"),scrollIntoView(e,this.$element[0]),this.$current=$(e)),!0}});