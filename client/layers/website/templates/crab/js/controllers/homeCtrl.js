(function() {
  'use strict';
  angular.module('mainApp').controller('homeCtrl', ["$rootScope", "$grModal", "$scope", "$timeout", function($rootScope, $grModal, $scope, $timeout) {
    var scrollTo;
    $rootScope.gr.home = {
      collapse: -1,
      collapseSub: -1
    };
    $rootScope.gr.title = {
      icon: 'fa fa-fw fa-check',
      text: 'Monte seu pedido'
    };
    scrollTo = function(c, timeout) {
      var element;
      element = c > 0 ? angular.element('#product-panel-heading-' + c) : angular.element('#accordion');
      if (element.length > 0) {
        timeout = timeout >= 0 ? timeout : 500;
        return $timeout((function() {
          var affix, top;
          affix = angular.copy($rootScope.affixed);
          top = element.offset().top - (angular.element('.gr-affixed').outerHeight() + 4);
          return angular.element('body, html').stop(true, false).animate({
            'scrollTop': top + 'px'
          }, 500, function() {
            if (element.offset().top - (angular.element('.gr-affixed').outerHeight() + 4) !== top) {
              return scrollTo(c);
            }
          });
        }), timeout);
      }
    };
    $rootScope.$watch('gr.home.collapse', function(c) {
      return scrollTo(c);
    });
    return $rootScope.$watch('gr.home.collapseSub', function(c) {
      return scrollTo(c);
    });
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaWVudC9sYXllcnMvd2Vic2l0ZS90ZW1wbGF0ZXMvY3JhYi9jb2ZmZWUvY29udHJvbGxlcnMvaG9tZUN0cmwuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUE7RUFDQSxPQUFPLENBQUMsTUFBUixDQUFlLFNBQWYsQ0FBeUIsQ0FBQyxVQUExQixDQUFxQyxVQUFyQyxFQUFpRCxTQUFDLFVBQUQsRUFBYSxRQUFiLEVBQXVCLE1BQXZCLEVBQStCLFFBQS9CO0FBRS9DLFFBQUE7SUFBQSxVQUFVLENBQUMsRUFBRSxDQUFDLElBQWQsR0FDRTtNQUFBLFFBQUEsRUFBVSxDQUFDLENBQVg7TUFDQSxXQUFBLEVBQWEsQ0FBQyxDQURkOztJQUdGLFVBQVUsQ0FBQyxFQUFFLENBQUMsS0FBZCxHQUNFO01BQUEsSUFBQSxFQUFNLG1CQUFOO01BQ0EsSUFBQSxFQUFNLGtCQUROOztJQUdGLFFBQUEsR0FBVyxTQUFDLENBQUQsRUFBSSxPQUFKO0FBQ1QsVUFBQTtNQUFBLE9BQUEsR0FBYSxDQUFBLEdBQUksQ0FBUCxHQUFjLE9BQU8sQ0FBQyxPQUFSLENBQWdCLHlCQUFBLEdBQTRCLENBQTVDLENBQWQsR0FBa0UsT0FBTyxDQUFDLE9BQVIsQ0FBZ0IsWUFBaEI7TUFDNUUsSUFBRyxPQUFPLENBQUMsTUFBUixHQUFpQixDQUFwQjtRQUNFLE9BQUEsR0FBYSxPQUFBLElBQVcsQ0FBZCxHQUFxQixPQUFyQixHQUFrQztlQUM1QyxRQUFBLENBQVMsQ0FBQyxTQUFBO0FBQ1IsY0FBQTtVQUFBLEtBQUEsR0FBUSxPQUFPLENBQUMsSUFBUixDQUFhLFVBQVUsQ0FBQyxPQUF4QjtVQUNSLEdBQUEsR0FBTSxPQUFPLENBQUMsTUFBUixDQUFBLENBQWdCLENBQUMsR0FBakIsR0FBdUIsQ0FBQyxPQUFPLENBQUMsT0FBUixDQUFnQixhQUFoQixDQUE4QixDQUFDLFdBQS9CLENBQUEsQ0FBQSxHQUErQyxDQUFoRDtpQkFDN0IsT0FBTyxDQUFDLE9BQVIsQ0FBZ0IsWUFBaEIsQ0FBNkIsQ0FBQyxJQUE5QixDQUFtQyxJQUFuQyxFQUF5QyxLQUF6QyxDQUErQyxDQUFDLE9BQWhELENBQXdEO1lBQUUsV0FBQSxFQUFhLEdBQUEsR0FBTSxJQUFyQjtXQUF4RCxFQUFxRixHQUFyRixFQUEwRixTQUFBO1lBQ3hGLElBQUcsT0FBTyxDQUFDLE1BQVIsQ0FBQSxDQUFnQixDQUFDLEdBQWpCLEdBQXVCLENBQUMsT0FBTyxDQUFDLE9BQVIsQ0FBZ0IsYUFBaEIsQ0FBOEIsQ0FBQyxXQUEvQixDQUFBLENBQUEsR0FBK0MsQ0FBaEQsQ0FBdkIsS0FBNkUsR0FBaEY7cUJBQ0UsUUFBQSxDQUFTLENBQVQsRUFERjs7VUFEd0YsQ0FBMUY7UUFIUSxDQUFELENBQVQsRUFNRyxPQU5ILEVBRkY7O0lBRlM7SUFZWCxVQUFVLENBQUMsTUFBWCxDQUFrQixrQkFBbEIsRUFBc0MsU0FBQyxDQUFEO2FBQ3BDLFFBQUEsQ0FBUyxDQUFUO0lBRG9DLENBQXRDO1dBRUEsVUFBVSxDQUFDLE1BQVgsQ0FBa0IscUJBQWxCLEVBQXlDLFNBQUMsQ0FBRDthQUN2QyxRQUFBLENBQVMsQ0FBVDtJQUR1QyxDQUF6QztFQXhCK0MsQ0FBakQ7QUFEQSIsImZpbGUiOiJjbGllbnQvbGF5ZXJzL3dlYnNpdGUvdGVtcGxhdGVzL2NyYWIvanMvY29udHJvbGxlcnMvaG9tZUN0cmwuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcbmFuZ3VsYXIubW9kdWxlKCdtYWluQXBwJykuY29udHJvbGxlciAnaG9tZUN0cmwnLCAoJHJvb3RTY29wZSwgJGdyTW9kYWwsICRzY29wZSwgJHRpbWVvdXQpIC0+XG4gICAgXG4gICRyb290U2NvcGUuZ3IuaG9tZSA9XG4gICAgY29sbGFwc2U6IC0xXG4gICAgY29sbGFwc2VTdWI6IC0xXG5cbiAgJHJvb3RTY29wZS5nci50aXRsZSA9XG4gICAgaWNvbjogJ2ZhIGZhLWZ3IGZhLWNoZWNrJ1xuICAgIHRleHQ6ICdNb250ZSBzZXUgcGVkaWRvJ1xuXG4gIHNjcm9sbFRvID0gKGMsIHRpbWVvdXQpIC0+XG4gICAgZWxlbWVudCA9IGlmIGMgPiAwIHRoZW4gYW5ndWxhci5lbGVtZW50KCcjcHJvZHVjdC1wYW5lbC1oZWFkaW5nLScgKyBjKSBlbHNlIGFuZ3VsYXIuZWxlbWVudCgnI2FjY29yZGlvbicpXG4gICAgaWYgZWxlbWVudC5sZW5ndGggPiAwXG4gICAgICB0aW1lb3V0ID0gaWYgdGltZW91dCA+PSAwIHRoZW4gdGltZW91dCBlbHNlIDUwMFxuICAgICAgJHRpbWVvdXQgKC0+XG4gICAgICAgIGFmZml4ID0gYW5ndWxhci5jb3B5KCRyb290U2NvcGUuYWZmaXhlZClcbiAgICAgICAgdG9wID0gZWxlbWVudC5vZmZzZXQoKS50b3AgLSAoYW5ndWxhci5lbGVtZW50KCcuZ3ItYWZmaXhlZCcpLm91dGVySGVpZ2h0KCkgKyA0KVxuICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJ2JvZHksIGh0bWwnKS5zdG9wKHRydWUsIGZhbHNlKS5hbmltYXRlIHsgJ3Njcm9sbFRvcCc6IHRvcCArICdweCcgfSwgNTAwLCAtPlxuICAgICAgICAgIGlmIGVsZW1lbnQub2Zmc2V0KCkudG9wIC0gKGFuZ3VsYXIuZWxlbWVudCgnLmdyLWFmZml4ZWQnKS5vdXRlckhlaWdodCgpICsgNCkgIT0gdG9wXG4gICAgICAgICAgICBzY3JvbGxUbyBjXG4gICAgICApLCB0aW1lb3V0XG5cbiAgJHJvb3RTY29wZS4kd2F0Y2ggJ2dyLmhvbWUuY29sbGFwc2UnLCAoYykgLT5cbiAgICBzY3JvbGxUbyBjXG4gICRyb290U2NvcGUuJHdhdGNoICdnci5ob21lLmNvbGxhcHNlU3ViJywgKGMpIC0+XG4gICAgc2Nyb2xsVG8gY1xuIl19